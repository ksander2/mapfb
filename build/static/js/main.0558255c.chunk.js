(this.webpackJsonpmapfb=this.webpackJsonpmapfb||[]).push([[0],{46:function(e,t,n){e.exports=n(93)},55:function(e,t,n){},56:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n(1),c=n(2),u=n(44),l=Object(c.c)({points:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POINT":return[].concat(Object(u.a)(e),[t.payload]);case"REMOVE_POINT":return e.filter((function(e){return e.id!==t.payload}));case"UPDATE_POINT":var n=t.payload,a=e.map((function(e){return e.id===n.id&&(e.coordinate=n.coordinate),e}));return a;case"REORDER_POINTS":return t.payload;default:return e}},centerMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[55.751574,37.573856],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CENTER_MAP":return t.payload;default:return e}},mapState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAP_LOAD_SUCCESS":return{isLoaded:!0};default:return e}}}),d=n(5),s=n(6),p=n(8),f=n(7),m=n(9),h=(n(55),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleKeyPress=function(e){"Enter"===e.key&&""!==n.text&&(n.inputRef.current.value="",n.props.addPointAction({name:n.text,id:n.id++,coordinate:n.props.centerMap}),n.text="")},n.handeIputTextChange=function(e){n.text=e.target.value},n.inputRef=r.a.createRef(),n.maxLengthInput=25,n.placeholderText="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0447\u043a\u0438",n.id=0,n.text="",n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("input",{id:"input-point",placeholder:this.placeholderText,className:"input-point-name",ref:this.inputRef,onChange:this.handeIputTextChange,onKeyPress:this.handleKeyPress,maxLength:this.maxLengthInput})}}]),t}(r.a.Component)),b=Object(i.b)((function(e){return{points:e.points,centerMap:e.centerMap}}),(function(e){return{addPointAction:function(t){return e(function(e){return{type:"ADD_POINT",payload:e}}(t))}}}))(h),g=n(45),O=n(21),E=(n(56),function(e,t,n){var a=Array.from(e),r=a.splice(t,1),o=Object(g.a)(r,1)[0];return a.splice(n,0,o),a}),y=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).handleButtonDeleteClick=function(e){n.props.removePointAction(e)},n.handleDragEnd=function(e){if(e.destination){var t=E(n.props.points,e.source.index,e.destination.index);n.props.reorderPointsAction(t)}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(O.a,{onDragEnd:this.handleDragEnd},r.a.createElement(O.c,{droppableId:"droppable"},(function(t,n){return r.a.createElement("ul",Object.assign({className:"list-points"},t.droppableProps,{ref:t.innerRef}),e.props.points.map((function(t,n){return r.a.createElement(O.b,{key:"key-".concat(t.id),draggableId:t.id.toString(10),index:n},(function(n,a){return r.a.createElement("li",Object.assign({className:"list-points-item",ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:n.draggableProps.style}),t.name,r.a.createElement("span",{className:"delete-button",onClick:e.handleButtonDeleteClick.bind(e,t.id)},"X"))}))})),t.placeholder)})))}}]),t}(a.Component),v=Object(i.b)((function(e){return{points:e.points}}),(function(e){return{reorderPointsAction:function(t){return e(function(e){return{type:"REORDER_POINTS",payload:e}}(t))},removePointAction:function(t){return e(function(e){return{type:"REMOVE_POINT",payload:e}}(t))}}}))(y),P=n(13),j=(n(91),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(f.a)(t).call(this,e))).handleBoundChange=function(e){var t=e.get("target");n.props.setCenterMapAction(t.getCenter())},n.handleDragPlacemark=function(e){var t=e.get("target"),a=t.properties.get("id"),r=t.geometry.getCoordinates();n.props.dragPointOnMapAction({id:a,coordinate:r})},n.handleLoad=function(){n.props.mapLoadSuccessAction(!0)},n.renderLoader=function(){return r.a.createElement("div",{className:"loader-spinner"})},n.renderPlaceMarks=function(e){return e.map((function(e){return r.a.createElement(P.b,{key:"key-".concat(e.id),options:{draggable:!0},properties:{balloonContentBody:e.coordinate.map((function(e){return e.toFixed(6)})),balloonContentHeader:e.name,id:e.id},geometry:e.coordinate,onDrag:n.handleDragPlacemark})}))},n.renderYmaps=function(e){return r.a.createElement(P.d,null,r.a.createElement(P.a,{className:"y-map",onLoad:n.handleLoad,state:n.mapState,modules:["geoObject.addon.balloon","geoObject.addon.hint"],onBoundschange:n.handleBoundChange},n.renderPlaceMarks(e),r.a.createElement(P.c,{geometry:e.map((function(e){return e.coordinate}))})))},n.mapState={center:e.centerMap,zoom:10},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.points,t=this.props.isLoaded;return r.a.createElement("div",null,this.renderYmaps(e),t?null:this.renderLoader())}}]),t}(r.a.Component)),A=Object(i.b)((function(e){return{points:e.points,centerMap:e.centerMap,isLoaded:e.mapState.isLoaded}}),(function(e){return{setCenterMapAction:function(t){return e({type:"SET_CENTER_MAP",payload:t})},mapLoadSuccessAction:function(t){return e({type:"MAP_LOAD_SUCCESS"})},dragPointOnMapAction:function(t){return e(function(e){return{type:"UPDATE_POINT",payload:e}}(t))}}}))(j),C=(n(92),function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"fun-box.ru1"),r.a.createElement("div",{className:"list-container"},r.a.createElement(b,null),r.a.createElement(v,null)),r.a.createElement("div",{className:"map-container"},r.a.createElement(A,null)))}}]),t}(r.a.Component));n.d(t,"store",(function(){return M}));var M=Object(c.e)(l);Object(o.render)(r.a.createElement(i.a,{store:M},r.a.createElement(C,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.0558255c.chunk.js.map